@{
    ViewData["Title"] = "Amenities Page";
}

<!-- Main Content -->
<div class="container mt-5">
    <!-- Title -->
    <div class="text-center pb-5">
        <h1 class="fw-bold text-uppercase text-white"
            style="font-size: 32px; letter-spacing: 0.15em; margin-bottom: 60px;">
            Amenities
        </h1>
    </div>

    <!-- Amenities Grid -->
    <div class="row g-5 justify-content-center">
        @* List of amenities with images *@
        @{
            var amenities = new[] {
                new { FacilityId = 1, Name = "Pool", Image = Url.Content("~/css/images/swimmingpool.png") },
                new { FacilityId = 2, Name = "Gym", Image = Url.Content("~/css/images/fitness.png") },
                new { FacilityId = 3, Name = "Playgrounds", Image = Url.Content("~/css/images/playgrounds.png") },
                new { FacilityId = 4, Name = "Environmental Friendly", Image = Url.Content("~/css/images/nature.png") },
                new { FacilityId = 5, Name = "Basketball Courts", Image = Url.Content("~/css/images/sports.png") },
                new { FacilityId = 6, Name = "Community Center", Image = Url.Content("~/css/images/communitycenter.png") }
            };
        }

        @for (int i = 0; i < amenities.Length; i++)
        {
            var amenity = amenities[i];
            var modalId = $"reservationModal{i}";
            <div class="col-12 col-md-6 col-lg-4 d-flex justify-content-center">
                <div class="text-center position-relative" style="width: 250px; margin-bottom: 30px;">
                    <img src="@amenity.Image"
                         class="rounded-circle position-absolute start-50 translate-middle"
                         style="top: -15px; width: 120px; height: 120px; object-fit: cover; border: 4px solid white; z-index: 10;">
                    <div class="rounded d-flex flex-column align-items-center justify-content-center position-relative"
                         style="width: 250px; height: 180px; background: rgba(255, 255, 255, 0.85);
                        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15); padding-top: 70px; z-index: 1;">
                        <p class="text-black fs-5 mb-0">@amenity.Name</p>
                    </div>
                    <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal"
                            data-bs-target="#@modalId" style="width: 250px;">Reserve</button>
                    <!-- Modal -->
                    <div class="modal fade" id="@modalId" tabindex="-1" aria-labelledby="@($"{modalId}Label")" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="@($"{modalId}Label")">Reserve @amenity.Name</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                   <form method="post" action="@Url.Action("Create", "FacilityReservation")">
                                    <!-- Hidden input for FacilityId -->
                                    <input type="hidden" name="FacilityId" value="@amenity.FacilityId" />
                                    
                                    <div class="mb-3">
                                        <label for="reservationDate-@modalId" class="form-label">Reservation Date</label>
                                        <input type="date" class="form-control" id="reservationDate-@modalId" name="ReservationDate" required />
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="startTime-@modalId" class="form-label">Start Time</label>
                                        <input type="time" class="form-control" id="startTime-@modalId" name="StartTime" required />
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="endTime-@modalId" class="form-label">End Time</label>
                                        <input type="time" class="form-control" id="endTime-@modalId" name="EndTime" required />
                                    </div>
                                    
                                    <button type="submit" class="btn btn-success w-100">Submit Reservation</button>
                                </form>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
